{"ast":null,"code":"var _jsxFileName = \"F:\\\\Study\\\\test_project\\\\LinkShortener\\\\frontend\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { Box, Typography } from \"@mui/material\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { fetchSockets } from \"../http/SocketApi\";\nimport { Context } from \"../index\";\nimport { SocketList } from \"../components/SocketList\";\nimport { CustomPagination } from \"../components/CustomPagination\";\nimport { MainButton } from \"../components/ui/MainButton\";\nimport { LoadingIndicatior } from \"../components/LoadingIndicator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = _s(observer(_c = _s(() => {\n  _s();\n  // Страница профиля пользователя\n  const [searchParams] = useSearchParams();\n  const {\n    socketList,\n    pagination,\n    loading\n  } = useContext(Context);\n  const handleFetchUserSockets = async () => {\n    // Обработчик получения сокетов пользователя\n    loading.setIsProfileLoading(true);\n    const response = await fetchSockets({\n      page: pagination.page,\n      pageSize: pagination.pageSize\n    });\n    socketList.setSockets(response.data.sockets);\n    pagination.setItemsCount(response.data.count);\n    loading.setIsProfileLoading(false);\n  };\n  const scrollToTop = () => {\n    // Задание положения страницы вверх\n    window.scrollTo(0, 0);\n  };\n  const setPage = () => {\n    // Обработчик получения номера страницы из параметров поиска\n    const page = Number(searchParams.get(\"page\"));\n    pagination.setPage(page);\n  };\n  const setPageSize = () => {\n    // Обработчик получения количества сокетов на страницу\n    // из параметров поиска\n    const pageSize = Number(searchParams.get(\"pageSize\"));\n    pagination.setPageSize(pageSize);\n  };\n  useEffect(() => {\n    setPage();\n    setPageSize();\n  }, []);\n  useEffect(() => {\n    handleFetchUserSockets();\n    scrollToTop();\n  }, [pagination.page]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        backgroundColor: \"#28384A\",\n        alignItems: \"center\",\n        padding: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          color: \"white\"\n        },\n        children: \"\\u0412\\u0430\\u0448 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MainButton, {\n        sx: {\n          position: \"absolute\",\n          marginRight: 2,\n          right: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), loading.isProfileLoading ? /*#__PURE__*/_jsxDEV(LoadingIndicatior, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        paddingLeft: 2,\n        paddingTop: 2,\n        paddingRight: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(SocketList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(CustomPagination, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}, \"3aXJ4PyMtgU/vWrGsAYTiN/a0ZA=\", false, function () {\n  return [useSearchParams];\n})), \"3aXJ4PyMtgU/vWrGsAYTiN/a0ZA=\", false, function () {\n  return [useSearchParams];\n});\n_c2 = Profile;\nexport { Profile };\nvar _c, _c2;\n$RefreshReg$(_c, \"Profile$observer\");\n$RefreshReg$(_c2, \"Profile\");","map":{"version":3,"names":["useContext","useEffect","observer","Box","Typography","useSearchParams","fetchSockets","Context","SocketList","CustomPagination","MainButton","LoadingIndicatior","jsxDEV","_jsxDEV","Profile","_s","_c","searchParams","socketList","pagination","loading","handleFetchUserSockets","setIsProfileLoading","response","page","pageSize","setSockets","data","sockets","setItemsCount","count","scrollToTop","window","scrollTo","setPage","Number","get","setPageSize","children","sx","display","backgroundColor","alignItems","padding","color","fileName","_jsxFileName","lineNumber","columnNumber","position","marginRight","right","isProfileLoading","paddingLeft","paddingTop","paddingRight","_c2","$RefreshReg$"],"sources":["F:/Study/test_project/LinkShortener/frontend/src/pages/Profile.js"],"sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Box, Typography } from \"@mui/material\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nimport { fetchSockets } from \"../http/SocketApi\";\r\nimport { Context } from \"../index\";\r\nimport { SocketList } from \"../components/SocketList\";\r\nimport { CustomPagination } from \"../components/CustomPagination\";\r\nimport { MainButton } from \"../components/ui/MainButton\";\r\nimport { LoadingIndicatior } from \"../components/LoadingIndicator\";\r\n\r\nconst Profile = observer(() => {\r\n  // Страница профиля пользователя\r\n  const [ searchParams ] = useSearchParams();\r\n  const { socketList, pagination, loading } = useContext(Context);\r\n\r\n  const handleFetchUserSockets = async () => {\r\n    // Обработчик получения сокетов пользователя\r\n    loading.setIsProfileLoading(true);\r\n\r\n    const response = await fetchSockets({\r\n      page: pagination.page,\r\n      pageSize: pagination.pageSize,\r\n    });\r\n    socketList.setSockets(response.data.sockets);\r\n    pagination.setItemsCount(response.data.count);\r\n    loading.setIsProfileLoading(false);\r\n  };\r\n\r\n  const scrollToTop = () => {\r\n    // Задание положения страницы вверх\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  const setPage = () => {\r\n    // Обработчик получения номера страницы из параметров поиска\r\n    const page = Number(searchParams.get(\"page\"));\r\n    pagination.setPage(page);\r\n  };\r\n\r\n  const setPageSize = () => {\r\n    // Обработчик получения количества сокетов на страницу\r\n    // из параметров поиска\r\n    const pageSize = Number(searchParams.get(\"pageSize\"));\r\n    pagination.setPageSize(pageSize);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPage();\r\n    setPageSize();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    handleFetchUserSockets();\r\n    scrollToTop();\r\n  }, [pagination.page]);\r\n\r\n  return (\r\n    <div>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          backgroundColor: \"#28384A\",\r\n          alignItems: \"center\",\r\n          padding: 2,\r\n        }}\r\n      >\r\n        <Typography\r\n          sx={{\r\n            color: \"white\",\r\n          }}\r\n        >\r\n          Ваш профиль\r\n        </Typography>\r\n        <MainButton\r\n          sx={{\r\n            position: \"absolute\",\r\n            marginRight: 2,\r\n            right: 0,\r\n          }}\r\n        />\r\n      </Box>\r\n\r\n      {\r\n        loading.isProfileLoading\r\n          ?\r\n          <LoadingIndicatior />\r\n          :\r\n          <Box\r\n            sx={{\r\n              paddingLeft: 2,\r\n              paddingTop: 2,\r\n              paddingRight: 2,\r\n            }}\r\n          >\r\n            <SocketList />\r\n            <CustomPagination />\r\n          </Box>\r\n      }\r\n    </div>\r\n  );\r\n});\r\n\r\nexport { Profile };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}