{"ast":null,"code":"var _jsxFileName = \"F:\\\\Study\\\\test_project\\\\LinkShortener\\\\frontend\\\\src\\\\components\\\\forms\\\\RegistrationForm.js\",\n  _s = $RefreshSig$();\nimport { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Typography, TextField, Button, Box } from \"@mui/material\";\nimport { LoadingButton } from \"@mui/lab\";\nimport { observer } from \"mobx-react-lite\";\nimport { Context } from \"../../index\";\nimport { registration, logIn } from \"../../http/UserApi\";\nimport { LOGIN_ROUTE, MAIN_ROUTE } from \"../../utils/Consts\";\nimport { CustomAlert } from \"../ui/CustomAlert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RegistrationForm = _s(observer(_c = _s(() => {\n  _s();\n  // Форма регистрации пользователя\n  const navigate = useNavigate();\n  const {\n    user,\n    loading,\n    alert\n  } = useContext(Context);\n  const [registrationForm, setRegistrationForm] = useState({\n    email: \"\",\n    username: \"\",\n    password: \"\"\n  });\n  const registrationButtonClicked = async () => {\n    // Обработчик нажатия кнопки регистрации\n    loading.setIsButtonLoading(true);\n    const logInForm = {\n      ...registrationForm\n    };\n    delete logInForm[\"email\"];\n    try {\n      await registration(registrationForm);\n      await logIn(logInForm);\n      user.setIsAuth(true);\n      navigate(MAIN_ROUTE);\n    } catch (error) {\n      alert.setIsAlert(true);\n      alert.setAlertInfo(error);\n    } finally {\n      loading.setIsButtonLoading(false);\n    }\n  };\n  const loginButtonClicked = () => {\n    // Обработчик нажатия кнопки авторизациия\n    navigate(LOGIN_ROUTE);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      sx: {\n        textAlign: \"center\",\n        marginBottom: 1\n      },\n      children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      type: \"text\",\n      placeholder: \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u044D\\u043B.\\u043F\\u043E\\u0447\\u0442\\u044B\",\n      onChange: event => setRegistrationForm({\n        ...registrationForm,\n        email: event.target.value\n      }),\n      sx: {\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      type: \"text\",\n      placeholder: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",\n      onChange: event => setRegistrationForm({\n        ...registrationForm,\n        username: event.target.value\n      }),\n      sx: {\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      type: \"password\",\n      placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n      onChange: event => setRegistrationForm({\n        ...registrationForm,\n        password: event.target.value\n      }),\n      sx: {\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        marginTop: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(LoadingButton, {\n        variant: \"contained\",\n        onClick: registrationButtonClicked,\n        loading: loading.isButtonLoading,\n        sx: {\n          marginRight: 1\n        },\n        children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: loginButtonClicked,\n        children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomAlert, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}, \"ZtWZWarRtby0wg8iH70g8UZY7E4=\", false, function () {\n  return [useNavigate];\n})), \"ZtWZWarRtby0wg8iH70g8UZY7E4=\", false, function () {\n  return [useNavigate];\n});\n_c2 = RegistrationForm;\nexport { RegistrationForm };\nvar _c, _c2;\n$RefreshReg$(_c, \"RegistrationForm$observer\");\n$RefreshReg$(_c2, \"RegistrationForm\");","map":{"version":3,"names":["useContext","useState","useNavigate","Typography","TextField","Button","Box","LoadingButton","observer","Context","registration","logIn","LOGIN_ROUTE","MAIN_ROUTE","CustomAlert","jsxDEV","_jsxDEV","RegistrationForm","_s","_c","navigate","user","loading","alert","registrationForm","setRegistrationForm","email","username","password","registrationButtonClicked","setIsButtonLoading","logInForm","setIsAuth","error","setIsAlert","setAlertInfo","loginButtonClicked","children","sx","textAlign","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","event","target","value","width","marginTop","variant","onClick","isButtonLoading","marginRight","_c2","$RefreshReg$"],"sources":["F:/Study/test_project/LinkShortener/frontend/src/components/forms/RegistrationForm.js"],"sourcesContent":["import { useContext, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Typography, TextField, Button, Box } from \"@mui/material\";\r\nimport { LoadingButton } from \"@mui/lab\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nimport { Context } from \"../../index\";\r\nimport { registration, logIn } from \"../../http/UserApi\";\r\nimport { LOGIN_ROUTE, MAIN_ROUTE } from \"../../utils/Consts\";\r\nimport { CustomAlert } from \"../ui/CustomAlert\";\r\n\r\nconst RegistrationForm = observer(() => {\r\n  // Форма регистрации пользователя\r\n  const navigate = useNavigate();\r\n  const { user, loading, alert } = useContext(Context);\r\n  const [ registrationForm, setRegistrationForm ] = useState({\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const registrationButtonClicked = async () => {\r\n    // Обработчик нажатия кнопки регистрации\r\n    loading.setIsButtonLoading(true);\r\n    const logInForm = {...registrationForm};\r\n    delete logInForm[\"email\"];\r\n\r\n    try {\r\n      await registration(registrationForm);\r\n      await logIn(logInForm);\r\n      user.setIsAuth(true);\r\n      navigate(MAIN_ROUTE);\r\n    } catch (error) {\r\n      alert.setIsAlert(true);\r\n      alert.setAlertInfo(error);\r\n    } finally {\r\n      loading.setIsButtonLoading(false);\r\n    }\r\n  };\r\n\r\n  const loginButtonClicked = () => {\r\n    // Обработчик нажатия кнопки авторизациия\r\n    navigate(LOGIN_ROUTE);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Typography\r\n        sx={{\r\n          textAlign: \"center\",\r\n          marginBottom: 1,\r\n        }}\r\n      >\r\n        Регистрация\r\n      </Typography>\r\n      <TextField\r\n        type=\"text\"\r\n        placeholder=\"Адрес эл.почты\"\r\n        onChange={event => setRegistrationForm({...registrationForm, email: event.target.value})}\r\n        sx={{\r\n          width: \"100%\",\r\n        }}\r\n      />\r\n      <br/>\r\n      <TextField\r\n        type=\"text\"\r\n        placeholder=\"Имя пользователя\"\r\n        onChange={event => setRegistrationForm({...registrationForm, username: event.target.value})}\r\n        sx={{\r\n          width: \"100%\",\r\n        }}\r\n      />\r\n      <br/>\r\n      <TextField\r\n        type=\"password\"\r\n        placeholder=\"Пароль\"\r\n        onChange={event => setRegistrationForm({...registrationForm, password: event.target.value})}\r\n        sx={{\r\n          width: \"100%\",\r\n        }}\r\n      />\r\n      <br/>\r\n      <Box\r\n        sx={{\r\n          marginTop: 1,\r\n        }}\r\n      >\r\n        <LoadingButton\r\n          variant=\"contained\"\r\n          onClick={registrationButtonClicked}\r\n          loading={loading.isButtonLoading}\r\n          sx={{\r\n            marginRight: 1,\r\n          }}\r\n        >\r\n          Зарегистрироваться\r\n        </LoadingButton>\r\n        <Button\r\n          variant=\"outlined\"\r\n          onClick={loginButtonClicked}\r\n        >\r\n          Войти\r\n        </Button>\r\n      </Box>\r\n      <CustomAlert />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport { RegistrationForm };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}